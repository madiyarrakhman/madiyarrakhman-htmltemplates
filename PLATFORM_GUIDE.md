# üöÄ Wedding Platform API Guide

–í–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ç–µ–ø–µ—Ä—å ‚Äî –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è SaaS –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞!

## üîê –ê–¥–º–∏–Ω –ü–∞–Ω–µ–ª—å

–¢–µ–ø–µ—Ä—å —É–ø—Ä–∞–≤–ª—è—Ç—å –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è–º–∏ –º–æ–∂–Ω–æ —á–µ—Ä–µ–∑ –≤–∏–∑—É–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:
- **URL**: `https://your-domain.com/admin`
- **–õ–æ–≥–∏–Ω/–ü–∞—Ä–æ–ª—å**: –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö DigitalOcean App Platform (Environment Variables).

## üîê –ö–ª—é—á–∏ –¥–æ—Å—Ç—É–ø–∞ (–î–ª—è API)

- **Admin Key (Private)**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–ª—è –°–û–ó–î–ê–ù–ò–Ø –∏ –†–ï–î–ê–ö–¢–ò–†–û–í–ê–ù–ò–Ø –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–π.
- **Frontend Key (Public)**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–∞ —Å–∞–π—Ç–µ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ RSVP (–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏).

## üõ† API Endpoints

### 1. üìù –°–æ–∑–¥–∞—Ç—å –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ (Create Invitation)

**POST** `/api/invitations`
**Headers**: `x-api-key: YOUR_PRIVATE_KEY`

**Body**:
```json
{
  "phoneNumber": "+77011234567",
  "templateCode": "starry-night",
  "lang": "ru",
  "content": {
    "groomName": "–ú–∞–¥–∏",
    "brideName": "–ê–π–≥–µ—Ä–∏–º",
    "date": "2026-06-15T18:00:00",
    "location": "Rixos Borovoe",
    "address": "–ê–∫–º–æ–ª–∏–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å, –ø. –ë—É—Ä–∞–±–∞–π",
    "story": "–ù–∞—à–∞ –∏—Å—Ç–æ—Ä–∏—è –Ω–∞—á–∞–ª–∞—Å—å..."
  }
}
```

**Response**:
```json
{
  "success": true,
  "fullUrl": "https://your-app.com/i/5501ae34-...",
  "invitation": { ... }
}
```

### 2. üëÄ –ü–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ (Get Info)

**GET** `/api/invitations/:uuid`
(–ü—É–±–ª–∏—á–Ω—ã–π –º–µ—Ç–æ–¥, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–æ–º)

### 3. üíå –û—Ç–ø—Ä–∞–≤–∏—Ç—å RSVP (–¥–ª—è –≥–æ—Å—Ç–µ–π)

**POST** `/api/rsvp/:uuid`
(–ü—É–±–ª–∏—á–Ω—ã–π –º–µ—Ç–æ–¥)

**Body**:
```json
{
  "guestName": "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤",
  "attendance": "yes", // or "no"
  "guestCount": 2
}
```

## ü§ñ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å n8n

–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤–∞ –∫ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ n8n. 
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –Ω–æ–¥—É **HTTP Request**.
- –ú–µ—Ç–æ–¥ **POST** –Ω–∞ `/api/invitations`.
- –ó–∞–≥–æ–ª–æ–≤–æ–∫ `x-api-key`.
- –í –æ—Ç–≤–µ—Ç–µ –≤—ã —Å—Ä–∞–∑—É –ø–æ–ª—É—á–∏—Ç–µ `fullUrl`, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –≤ WhatsApp.

## üìö –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
–î–µ—Ç–∞–ª—å–Ω–∞—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è API –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ Swagger:
`./docs/swagger.yaml`

## üåç –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. –í—ã —Å–æ–∑–¥–∞–µ—Ç–µ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ —á–µ—Ä–µ–∑ API –∏–ª–∏ —á–µ—Ä–µ–∑ Admin Panel.
2. –ü–æ–ª—É—á–∞–µ—Ç–µ —Å—Å—ã–ª–∫—É: `domain.com/i/UUID`.
3. –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç–µ —ç—Ç—É —Å—Å—ã–ª–∫—É –≥–æ—Å—Ç—é.
4. –ì–æ—Å—Ç—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç, –≤–∏–¥–∏—Ç –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ (–∏–º–µ–Ω–∞, –¥–∞—Ç—É, –º–µ—Å—Ç–æ).
5. –ì–æ—Å—Ç—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç RSVP.
6. –í—ã –≤–∏–¥–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ Admin Dashboard.

## üóÑ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ë–î

- **templates**: –°–ø–∏—Å–æ–∫ –¥–∏–∑–∞–π–Ω–æ–≤.
- **invitations**: –•—Ä–∞–Ω–∏—Ç –¥–∞–Ω–Ω—ã–µ –∫–∞–∂–¥–æ–π –ø–∞—Ä—ã + UUID.
- **rsvp_responses**: –û—Ç–≤–µ—Ç—ã –≥–æ—Å—Ç–µ–π, –ø—Ä–∏–≤—è–∑–∞–Ω–Ω—ã–µ –∫ UUID.

