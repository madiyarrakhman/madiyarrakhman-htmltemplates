# üöÄ Wedding Invitation Platform API

–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é API –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã —Å–≤–∞–¥–µ–±–Ω—ã—Ö –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–π.

## ÔøΩ –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è Swagger
–ü–æ–ª–Ω–∞—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è OpenAPI 3.0 –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ —Ñ–∞–π–ª–µ:
`./docs/swagger.yaml`

---

## ÔøΩ –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

### 1. Admin API (–ö—É–∫–∏)
–î–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ `/api/admin/*` –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –≤—Ö–æ–¥ —á–µ—Ä–µ–∑ `/api/admin/login`. –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –≤—Ö–æ–¥–∞ —Å–µ—Ä–≤–µ—Ä —É—Å—Ç–∞–Ω–æ–≤–∏—Ç HttpOnly –∫—É–∫—É `admin_token`.

### 2. Public/Integration API (API Key)
–î–ª—è –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, —á–µ—Ä–µ–∑ **n8n**) –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∑–∞–≥–æ–ª–æ–≤–æ–∫:
`x-api-key: <–í–ê–®_PRIVATE_API_KEY>`

---

## üìç –û—Å–Ω–æ–≤–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

### –ü—É–±–ª–∏—á–Ω—ã–µ (n8n / –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏)
- `POST /api/invitations` ‚Äî –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–µ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç `fullUrl`.
- `GET /api/invitations/:uuid` ‚Äî –ü–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞.
- `POST /api/rsvp/:uuid` ‚Äî –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –æ—Ç–≤–µ—Ç –≥–æ—Å—Ç—è.

### –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
- `POST /api/admin/login` ‚Äî –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è.
- `GET /api/admin/invitations` ‚Äî –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–π —Å–æ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π RSVP.
- `GET /api/admin/stats` ‚Äî –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (–≤—Å–µ–≥–æ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–π, –≤—Å–µ–≥–æ –≥–æ—Å—Ç–µ–π).

---

## ÔøΩ –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (cURL)

### –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è —á–µ—Ä–µ–∑ API –∫–ª—é—á:
```bash
curl -X POST https://your-domain.app/api/invitations \
  -H "x-api-key: YOUR_PRIVATE_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "phoneNumber": "+77012223344",
    "groomName": "–ê—Ä–º–∞–Ω",
    "brideName": "–ê—Ä—É–∂–∞–Ω",
    "eventDate": "15 –∏—é–Ω—è 2026, 18:00",
    "eventLocation": "–†–µ—Å—Ç–æ—Ä–∞–Ω Royal, –≥. –ê–ª–º–∞—Ç—ã",
    "lang": "ru"
  }'
```

## üè• –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è
`GET /api/health` ‚Äî –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã.
