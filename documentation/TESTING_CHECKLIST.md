# Чек-лист тестирования проекта (IRON MANTRA / Wedding Platform)

Этот чек-лист предназначен для обязательного прохождения перед каждым деплоем, после изменения кода или добавления новых фич.

---

## 1. Фронтенд (Пользовательская часть)
- [ ] **Responsiveness**: Проверить отображение на iPhone (Safari), Android (Chrome) и десктопах. Меню должно быть кликабельным на мобильных устройствах.
- [ ] **Landing Page**: 
    - [ ] Загрузка всех изображений (без 404).
    - [ ] Плавный скролл по якорным ссылкам.
    - [ ] Анимация счетчиков (статистика) срабатывает при скролле.
- [ ] **Формы**:
    - [ ] Валидация полей (пустые поля, некорректный email).
    - [ ] Успешная отправка данных (Mock или API).
    - [ ] Отображение сообщения об успехе после отправки.
- [ ] **Конфигурация**: Проверить подгрузку `config.js` и наличие публичных ключей.

## 2. Админ-панель (`/admin`)
- [ ] **Авторизация**:
    - [ ] Вход с правильными учетными данными.
    - [ ] Сообщение об ошибке при неверном логине/пароле.
    - [ ] Защита роута (неавторизованный пользователь должен перенаправляться на `/admin/login`).
    - [ ] Выход (Logout) и очистка сессии/Cookie.
- [ ] **Управление приглашениями**:
    - [ ] Создание нового приглашения.
    - [ ] Проверка списка существующих приглашений.
    - [ ] Корректное отображение статистики (RSVP count).
- [ ] **Шаблоны**: Проверить выбор шаблонов из базы данных.

## 3. API и Бэкенд
- [ ] **Public API (`/api/invitations`)**:
    - [ ] Проверка `X-API-KEY`. Без ключа или с неверным — 403 Forbidden.
    - [ ] Валидация входных данных (обязательные поля: phone, names и т.д.).
    - [ ] Санитизация входных строк (защита от XSS).
- [ ] **Admin API (`/api/admin/*`)**:
    - [ ] Проверка middleware `authenticateAdmin`.
    - [ ] Корректность SQL запросов (отсутствие ошибок 500).
- [ ] **RSVP**:
    - [ ] Обновление статуса в базе при отправке ответа гостем.
- [ ] **Rate Limiting**:
    - [ ] Лимит попыток входа (Login Limiter).
    - [ ] Общий лимит на API запросы.
- [ ] **Unit Tests (TDD)**:
    - [ ] Запуск `npm test` в директории `api/`. Все тесты (11+) должны пройти успешно (PASS).

## 4. База данных и Миграции
- [ ] **Миграции**: Выполнение `node api/migrate.js` не должно выдавать ошибок.
- [ ] **Связи**: Проверить наличие таблиц `invitations`, `templates`, `rsvp`.
- [ ] **Дубликаты**: Поля `uuid` и `short_code` должны быть уникальными.

## 5. Безопасность и SEO
- [ ] **Headers**: Проверить работу `helmet` (CSP, HSTS).
- [ ] **CORS**: Разрешены только нужные домены.
- [ ] **SEO**: Наличие `title`, `meta description` и правильная иерархия `h1-h3`.
- [ ] **Environment**: Проверить отсутствие секретных ключей в репозитории (использование `.env`).

---

**Инструкция для ИИ:**
1. Перед началом тестирования изучи текущую структуру папок.
2. После каждого изменения кода пройдись по пунктам, которые затронуло изменение.
3. Если добавлена новая фича — добавь соответствующий пункт в этот список.
4. Отмечай выполненные пункты в текущем сеансе (мысленно или через обновление файла, если требуется отчет).
